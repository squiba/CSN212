def Matrix_Chain_Order(p):
    # p = array of size n+1 having the dimensions of matrices to multiply
    n=len(p)-1
    m = [[ float('inf') for j in range(1,n+1)] for i in range(1,n+1)]
    s = [[ 0 for j in range(1,n+1)] for i in range(1,n+1)]

    for i in range(n):
        m[i][i] = 0

    for l in range(2,n+1):
        #l = chain length
        for i in range(n-l+1):
            j=i+l-1

            for k in range(i,j):
                q=m[i,k]+m[k+1,j]+p[i][k+1][j]
                if q<m[i][j]:
                    m[i][j]=q
                    s[i][j]=k+1
    return m,s
p=[30,35,15,5,10,20,25]
print(Matrix_Chain_Order(p,1,6))
